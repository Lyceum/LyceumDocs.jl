<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Learning a control policy · Lyceum</title><link rel="canonical" href="https://docs.lyceum.ml/dev/examples/NPG/index.html"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Lyceum</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../MPPI/">Running a simple controller</a></li><li class="is-active"><a class="tocitem" href>Learning a control policy</a><ul class="internal"><li><a class="tocitem" href="#Policy-Gradient-Example-1"><span>Policy Gradient Example</span></a></li><li><a class="tocitem" href="#Policy-Gradient-Components-1"><span>Policy Gradient Components</span></a></li><li><a class="tocitem" href="#Running-Experiments-1"><span>Running Experiments</span></a></li></ul></li><li><a class="tocitem" href="../visualize/">Visualizing Results</a></li><li><a class="tocitem" href="../humanoid/">Creating a MuJoCo Environment</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Learning a control policy</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Learning a control policy</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Lyceum/LyceumDocs.jl/blob/master/docs/src/examples/NPG.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><div class="admonition is-info"><header class="admonition-header">Running examples locally</header><div class="admonition-body"><p>This example and more are also available as Julia scripts and Jupyter notebooks.</p><p>See <a href="https://github.com/Lyceum/LyceumDocs.jl/blob/master/example_howto.md">the how-to page</a> for more information.</p></div></div><h1 id="Learning-a-control-policy-1"><a class="docs-heading-anchor" href="#Learning-a-control-policy-1">Learning a control policy</a><a class="docs-heading-anchor-permalink" href="#Learning-a-control-policy-1" title="Permalink"></a></h1><h2 id="Policy-Gradient-Example-1"><a class="docs-heading-anchor" href="#Policy-Gradient-Example-1">Policy Gradient Example</a><a class="docs-heading-anchor-permalink" href="#Policy-Gradient-Example-1" title="Permalink"></a></h2><p>In this example we walk through the process of setting up an experiment that runs <a href="https://papers.nips.cc/paper/2073-a-natural-policy-gradient.pdf">Natural Policy Gradient</a>, or more recently <a href="https://arxiv.org/abs/1703.02660">in this work</a>. This is an on-policy reinforcement learning method that is comparable to TRPO, PPO, and other policy gradient methods.</p><p>First, let&#39;s go head and grab all the dependencies</p><pre><code class="language-julia">using LinearAlgebra, Random, Statistics # From Stdlib
using LyceumAI         # For the NPG controller
using LyceumMuJoCo     # For the Hopper environment
using LyceumBase.Tools # For the ControllerIterator discussed below
using Flux             # For our Neural Network Needs
using Flux: glorot_uniform
using UniversalLogger
using Plots</code></pre><p>We first configure and instantiate of our <code>Hopper</code> environment to grab useful environment specific values such as the size of the observation and action vectors.</p><pre><code class="language-julia">env = LyceumMuJoCo.HopperV2();
dobs, dact = length(obsspace(env)), length(actionspace(env));</code></pre><h2 id="Policy-Gradient-Components-1"><a class="docs-heading-anchor" href="#Policy-Gradient-Components-1">Policy Gradient Components</a><a class="docs-heading-anchor-permalink" href="#Policy-Gradient-Components-1" title="Permalink"></a></h2><p>Policy Gradient methods require a policy: a function that takes in the state/observations of the agent, and output an action. a = π(obs). In much of Deep RL, the policy takes the form of a neural network, which we instantiate on top of the <a href="https://github.com/FluxML/Flux.jl">Flux.jl</a> library. The network below is two layers, mapping from our observation space to 32 hidden units, to the second 32 hidden units layer, before emitting a vector of actions. The activations are all tanh functions, and we initialize the network with Glorot Uniform initializations. The policy is more than just a feed forward nerual network, however. It&#39;s treated as a stochastic variable, and thus we track the log of the standard deviation of noise to apply to the action sampling; this is final zero vector of size &#39;dact&#39;.</p><pre><code class="language-julia">policy = DiagGaussianPolicy(multilayer_perceptron(dobs, 32, 32, dact;
                                                  σ=tanh,
                                                  initb=glorot_uniform,
                                                  initb_final=glorot_uniform),
                            zeros(dact))
policy = Flux.paramtype(Float32, policy); # We make sure the Policy is a consistent type</code></pre><p>This NPG implementation uses Generalized Advantaged Estimation, where we subract the estimate of the current policy&#39;s performance from an estimate of the value function on the same inputs. The calculation of the advangate is more stable in for gradient descent. We represent the value function as a neural network as well.</p><pre><code class="language-julia">value = multilayer_perceptron(dobs, 128, 128, 1;
                              σ=Flux.relu,
                              initb=glorot_uniform,
                              initb_final=glorot_uniform)
value = Flux.paramtype(Float32, value); # Again, consistent type; imporant for performance</code></pre><pre><code class="language-none">Chain(Dense(11, 128, relu), Dense(128, 128, relu), Dense(128, 1))</code></pre><p>FluxTrainer is an iterator that loops on the Flux object provided. The result at each loop is passed to stopcb below, so you can quit after a number of epochs, convergence, or other criteria; here it&#39;s capped at two epochs as a lambda function.</p><pre><code class="language-julia">valueloss(bl, X, Y) = Flux.mse(vec(bl(X)), vec(Y))
valuetrainer = FluxTrainer(optimiser = ADAM(1e-3),
                           szbatch = 64,
                           lossfn = valueloss,
                           stopcb = s -&gt; s.nepochs &gt; 2);</code></pre><p>The <code>NaturalPolicyGradient</code> iterator is a struct that contains relevant data objects for learning a policy. We first pass in a constructor that, given an input Int (in this case the thread ID), will construct an env; this is for thread-safe multi-threading. The policy and value objects are passed as well as a number of parameters; shown here are generally good defaults but could change depending on the environment and problem. Finally, the max trajectory length is set as &#39;Hmax&#39;, and the total number of samples &#39;N&#39;, specified. Multi-threading happens to collect the &#39;N&#39; samples using as many threads as possible, up to a trajectory length of Hmax.</p><pre><code class="language-julia">npg = NaturalPolicyGradient((i)-&gt;tconstruct(LyceumMuJoCo.HopperV2, i),
                            policy,
                            value,
                            valuetrainer;
                            gamma = 0.995,
                            gaelambda = 0.97,
                            norm_step_size = 0.05,
                            Hmax=1000,
                            N=10000);</code></pre><h2 id="Running-Experiments-1"><a class="docs-heading-anchor" href="#Running-Experiments-1">Running Experiments</a><a class="docs-heading-anchor-permalink" href="#Running-Experiments-1" title="Permalink"></a></h2><p>Finally, let&#39;s spin on our iterator 200 times, plotting every 20 iterations. This lets us break out of the loop if certain conditions are met, or re-start training manually if needed. We of course wish to track results, so we create an Experiment to which we can save data. We also have useful timing information displayed every 20 iterations to understand CPU performance.</p><pre><code class="language-julia">exper = Experiment(&quot;/tmp/hopper_example.jlso&quot;, overwrite=true)
lg = ULogger() # walks, talks, and acts like a Julia logger
for (i, state) in enumerate(npg)
    if i &gt; 200
        # serialize some stuff and quit
        exper[:policy]     = npg.policy
        exper[:value]      = npg.value
        exper[:etype]      = LyceumMuJoCo.HopperV2
        exper[:meanstates] = state.meanbatch
        exper[:stocstates] = state.stocbatch
        break
    end

    # log everything in `state` except meanbatch and stocbatch
    push!(lg, :algstate, filter_nt(state, exclude=(:meanbatch, :stocbatch)))

    if mod(i, 20) == 0
        x = lg[:algstate]
        # The following are helper functions for plotting to the terminal.
        # The first plot renders the &#39;Eval&#39; function associated with the env.
        display(expplot(Line(x[:stocterminal_eval], &quot;StocLastE&quot;),
                        Line(x[:meanterminal_eval], &quot;MeanLastE&quot;),
                        title=&quot;Evaluation Score, Iter=$i&quot;, width=60, height=8
                       ));

        display(expplot(Line(x[:stoctraj_reward], &quot;StocR&quot;),
                        Line(x[:meantraj_reward], &quot;MeanR&quot;),
                        title=&quot;Reward, Iter=$i&quot;, width=60, height=8
                       ));

        # The following is timing values for each component of the last iteration.
        # It&#39;s useful to see where the compute is going.
        println(&quot;elapsed_sampled  = &quot;, state.elapsed_sampled); #md
        println(&quot;elapsed_gradll   = &quot;, state.elapsed_gradll);  #md
        println(&quot;elapsed_vpg      = &quot;, state.elapsed_vpg);     #md
        println(&quot;elapsed_cg       = &quot;, state.elapsed_cg);      #md
        println(&quot;elapsed_valuefit = &quot;, state.elapsed_valuefit);#md
    end
end</code></pre><pre><code class="language-none">┌ Warning: The specified values for size and/or count will result in 16 unused data points
└ @ MLDataPattern ~/.julia/packages/MLDataPattern/mX21p/src/dataview.jl:204
elapsed_sampled  = 0.37578511
elapsed_gradll   = 1.597363965
elapsed_vpg      = 0.004536106
elapsed_cg       = 0.090963023
elapsed_valuefit = 0.841889943
elapsed_sampled  = 0.363755552
elapsed_gradll   = 1.582549065
elapsed_vpg      = 0.004581606
elapsed_cg       = 0.08894201
elapsed_valuefit = 0.853071961
elapsed_sampled  = 0.376545736
elapsed_gradll   = 1.612135162
elapsed_vpg      = 0.004654205
elapsed_cg       = 0.090785305
elapsed_valuefit = 0.749788968
elapsed_sampled  = 0.356785589
elapsed_gradll   = 1.589076131
elapsed_vpg      = 0.008189109
elapsed_cg       = 0.109396619
elapsed_valuefit = 0.803699277
elapsed_sampled  = 0.368045182
elapsed_gradll   = 1.555420613
elapsed_vpg      = 0.004467505
elapsed_cg       = 0.093391197
elapsed_valuefit = 0.919531754
elapsed_sampled  = 0.36071576
elapsed_gradll   = 1.605273999
elapsed_vpg      = 0.004476005
elapsed_cg       = 0.094381894
elapsed_valuefit = 0.823919822
elapsed_sampled  = 0.380839168
elapsed_gradll   = 1.549162897
elapsed_vpg      = 0.004475004
elapsed_cg       = 0.086836484
elapsed_valuefit = 0.771810745
elapsed_sampled  = 0.359822039
elapsed_gradll   = 1.532224443
elapsed_vpg      = 0.004561604
elapsed_cg       = 0.090426885
elapsed_valuefit = 0.952693297
elapsed_sampled  = 0.388186458
elapsed_gradll   = 1.601902677
elapsed_vpg      = 0.004423904
elapsed_cg       = 0.110747802
elapsed_valuefit = 0.930357858
elapsed_sampled  = 0.398240462
elapsed_gradll   = 1.544266301
elapsed_vpg      = 0.004578204
elapsed_cg       = 0.08811518
elapsed_valuefit = 0.996331904</code></pre><p>Let&#39;s go ahead and plot the final reward trajectory and see how we did. The two lines is a property of a Policy Gradient method: there is a stochastic policy that takes the actions of the policy and adds noise to explore for better behavior.</p><pre><code class="language-julia">plot!(plot(lg[:algstate][:meantraj_reward], label=&quot;Mean Policy&quot;, title=&quot;HopperV2 Reward&quot;),
      lg[:algstate][:stoctraj_reward], label=&quot;Stochastic Policy&quot;)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip2900">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip2900)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip2901">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip2900)" d="
M86.9921 1521.01 L2352.76 1521.01 L2352.76 62.9921 L86.9921 62.9921  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip2902">
    <rect x="86" y="62" width="2267" height="1459"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  140.376,1521.01 140.376,62.9921 
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  677.44,1521.01 677.44,62.9921 
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1214.5,1521.01 1214.5,62.9921 
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1751.57,1521.01 1751.57,62.9921 
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2288.63,1521.01 2288.63,62.9921 
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,1496.46 2352.76,1496.46 
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,1078.32 2352.76,1078.32 
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,660.178 2352.76,660.178 
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,242.035 2352.76,242.035 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1521.01 2352.76,1521.01 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1521.01 86.9921,62.9921 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  140.376,1521.01 140.376,1503.51 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  677.44,1521.01 677.44,1503.51 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1214.5,1521.01 1214.5,1503.51 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1751.57,1521.01 1751.57,1503.51 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2288.63,1521.01 2288.63,1503.51 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1496.46 114.181,1496.46 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1078.32 114.181,1078.32 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,660.178 114.181,660.178 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,242.035 114.181,242.035 
  "/>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 140.376, 1575.01)" x="140.376" y="1575.01">0</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 677.44, 1575.01)" x="677.44" y="1575.01">50</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 1214.5, 1575.01)" x="1214.5" y="1575.01">100</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 1751.57, 1575.01)" x="1751.57" y="1575.01">150</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 2288.63, 1575.01)" x="2288.63" y="1575.01">200</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 1513.96)" x="62.9921" y="1513.96">0</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 1095.82)" x="62.9921" y="1095.82">1000</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 677.678)" x="62.9921" y="677.678">2000</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 259.535)" x="62.9921" y="259.535">3000</text>
</g>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:84px; text-anchor:middle;" transform="rotate(0, 1219.87, 73.2)" x="1219.87" y="73.2">HopperV2 Reward</text>
</g>
<polyline clip-path="url(#clip2902)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  151.118,1470.54 161.859,1471.65 172.6,1469.44 183.341,1410.46 194.083,1390.89 204.824,1342.34 215.565,1333.38 226.306,1343.67 237.048,1366.24 247.789,1348.79 
  258.53,1324.05 269.272,1319.89 280.013,1356.83 290.754,1362.83 301.495,1266.92 312.237,1269.63 322.978,769.512 333.719,1158 344.46,1203.44 355.202,1206.19 
  365.943,1303.75 376.684,1341.95 387.425,1338.78 398.167,1077.13 408.908,1268.44 419.649,1345.59 430.391,1345.2 441.132,1352.78 451.873,1230.95 462.614,1219.71 
  473.356,1237.08 484.097,1234.2 494.838,1069.73 505.579,1066.1 516.321,1254.94 527.062,1269.17 537.803,1253.39 548.545,439.832 559.286,1143.85 570.027,735.122 
  580.768,726.532 591.51,959.708 602.251,663.563 612.992,848.505 623.733,461.401 634.475,527.09 645.216,538.189 655.957,532.764 666.699,546.037 677.44,531.836 
  688.181,543.295 698.922,527.716 709.664,534.027 720.405,543.985 731.146,440.199 741.887,542.527 752.629,518.908 763.37,487.961 774.111,483.908 784.853,519.165 
  795.594,897.436 806.335,862.525 817.076,473.627 827.818,429.209 838.559,415.261 849.3,387.619 860.041,397.272 870.783,397.204 881.524,406.549 892.265,430.66 
  903.007,362.658 913.748,397.624 924.489,365.992 935.23,334.401 945.972,393.769 956.713,386.044 967.454,410.882 978.195,417.894 988.937,440.902 999.678,384.421 
  1010.42,326.135 1021.16,399.303 1031.9,375.598 1042.64,366.648 1053.38,293.213 1064.13,309.544 1074.87,318.807 1085.61,296.388 1096.35,613.649 1107.09,345.473 
  1117.83,362.73 1128.57,345.913 1139.31,328.404 1150.06,340.799 1160.8,337.949 1171.54,330.781 1182.28,327.857 1193.02,294.429 1203.76,298.913 1214.5,214.754 
  1225.24,288.748 1235.99,209.139 1246.73,207.262 1257.47,238.332 1268.21,277.444 1278.95,192.264 1289.69,254.038 1300.43,294.023 1311.17,284.18 1321.92,255.782 
  1332.66,239.167 1343.4,231.221 1354.14,248.414 1364.88,272.086 1375.62,293.755 1386.36,256.119 1397.1,256.332 1407.85,204.943 1418.59,230.448 1429.33,221.29 
  1440.07,234.373 1450.81,185.138 1461.55,1004.92 1472.29,992.394 1483.04,205.902 1493.78,195.522 1504.52,147.481 1515.26,181.684 1526,158.768 1536.74,188.066 
  1547.48,229.555 1558.22,201.266 1568.97,170.253 1579.71,177.396 1590.45,211.989 1601.19,1309.73 1611.93,1307.57 1622.67,184.502 1633.41,119.583 1644.15,187.343 
  1654.9,162.104 1665.64,160.648 1676.38,156.216 1687.12,176.587 1697.86,174.148 1708.6,149.038 1719.34,141.837 1730.08,114.506 1740.83,104.257 1751.57,125.776 
  1762.31,130.162 1773.05,164.713 1783.79,146.837 1794.53,146.264 1805.27,195.308 1816.01,157.09 1826.76,150.21 1837.5,157.6 1848.24,126.804 1858.98,140.205 
  1869.72,121.096 1880.46,132.393 1891.2,140.359 1901.94,166.388 1912.69,148.417 1923.43,123.808 1934.17,117.416 1944.91,121.782 1955.65,152.526 1966.39,160.593 
  1977.13,158.357 1987.87,183.063 1998.62,170.938 2009.36,148.438 2020.1,143.174 2030.84,152.303 2041.58,142.8 2052.32,108.149 2063.06,134.438 2073.81,158.041 
  2084.55,176.548 2095.29,165.864 2106.03,153.436 2116.77,140.457 2127.51,137.538 2138.25,149.106 2148.99,149.767 2159.74,146.398 2170.48,151.306 2181.22,131.927 
  2191.96,132.553 2202.7,124.149 2213.44,118.551 2224.18,120.601 2234.92,123.581 2245.67,138.615 2256.41,130.001 2267.15,131.001 2277.89,131.39 2288.63,140.885 
  
  "/>
<polyline clip-path="url(#clip2902)" style="stroke:#e26f46; stroke-width:4; stroke-opacity:1; fill:none" points="
  151.118,1479.74 161.859,1471.75 172.6,1463.54 183.341,1456.22 194.083,1447.37 204.824,1437.98 215.565,1412.89 226.306,1408.71 237.048,1405.56 247.789,1382.96 
  258.53,1363.44 269.272,1354.2 280.013,1345.77 290.754,1350.37 301.495,1335.16 312.237,1345.56 322.978,1341.24 333.719,1329.48 344.46,1323.95 355.202,1325.45 
  365.943,1309.07 376.684,1290.96 387.425,1259.75 398.167,1283.97 408.908,1277.45 419.649,1273.92 430.391,1236.69 441.132,1260.56 451.873,1246.73 462.614,1237.03 
  473.356,1245.76 484.097,1233.09 494.838,1219.5 505.579,1221.98 516.321,1205.51 527.062,1206.26 537.803,1180.4 548.545,1186.23 559.286,1153.79 570.027,1181.6 
  580.768,1193.64 591.51,1144.19 602.251,1110.32 612.992,1110.14 623.733,1134.36 634.475,1000.42 645.216,1046.98 655.957,1038.08 666.699,876.838 677.44,1117.68 
  688.181,894.79 698.922,903.372 709.664,838.44 720.405,680.01 731.146,602.554 741.887,716.772 752.629,732.569 763.37,642.06 774.111,759.178 784.853,747.881 
  795.594,743.088 806.335,677.634 817.076,817.734 827.818,851.993 838.559,838.627 849.3,815.293 860.041,865.864 870.783,883.271 881.524,673.231 892.265,948.538 
  903.007,830.272 913.748,838.032 924.489,907.951 935.23,928.133 945.972,768.128 956.713,687.715 967.454,697.664 978.195,569.309 988.937,555.751 999.678,508.745 
  1010.42,579.611 1021.16,485.61 1031.9,554.523 1042.64,526.98 1053.38,771.012 1064.13,970.788 1074.87,780.921 1085.61,707.167 1096.35,728.311 1107.09,536.487 
  1117.83,592.803 1128.57,625.317 1139.31,490.352 1150.06,520.443 1160.8,691.342 1171.54,573.591 1182.28,717.764 1193.02,549.199 1203.76,609.675 1214.5,605.365 
  1225.24,601.466 1235.99,687.936 1246.73,702.285 1257.47,606.067 1268.21,472.172 1278.95,525.886 1289.69,477.212 1300.43,482.464 1311.17,534.437 1321.92,485.766 
  1332.66,590.314 1343.4,593.583 1354.14,378.618 1364.88,538.264 1375.62,400.906 1386.36,465.111 1397.1,398.657 1407.85,824.528 1418.59,758.34 1429.33,547.269 
  1440.07,397.951 1450.81,376.493 1461.55,590.504 1472.29,634.446 1483.04,624.372 1493.78,465.246 1504.52,579.999 1515.26,792.423 1526,692.44 1536.74,456.751 
  1547.48,403.528 1558.22,466.822 1568.97,512.91 1579.71,704.667 1590.45,407.35 1601.19,710.633 1611.93,488.084 1622.67,373.771 1633.41,582.223 1644.15,686.04 
  1654.9,389.175 1665.64,711.89 1676.38,583.855 1687.12,262.416 1697.86,472.124 1708.6,354.007 1719.34,523.281 1730.08,344.183 1740.83,639.331 1751.57,243.187 
  1762.31,565.204 1773.05,391.508 1783.79,430.802 1794.53,355.125 1805.27,512.454 1816.01,260.398 1826.76,259.79 1837.5,142.977 1848.24,504.633 1858.98,524.915 
  1869.72,568.599 1880.46,496.621 1891.2,442.526 1901.94,274.542 1912.69,447.013 1923.43,571.242 1934.17,757.845 1944.91,861.853 1955.65,572.875 1966.39,462.213 
  1977.13,262.777 1987.87,274.759 1998.62,180.249 2009.36,276.648 2020.1,582.636 2030.84,258.838 2041.58,346.987 2052.32,111.444 2063.06,248.737 2073.81,272.458 
  2084.55,470.373 2095.29,382.155 2106.03,262.816 2116.77,346.707 2127.51,444.795 2138.25,267.83 2148.99,140.409 2159.74,132.366 2170.48,268.109 2181.22,250.291 
  2191.96,357.482 2202.7,250.282 2213.44,348.123 2224.18,439.963 2234.92,442.338 2245.67,442.377 2256.41,349.469 2267.15,349.788 2277.89,254.175 2288.63,258.851 
  
  "/>
<path clip-path="url(#clip2900)" d="
M1676.96 327.952 L2280.76 327.952 L2280.76 146.512 L1676.96 146.512  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip2900)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1676.96,327.952 2280.76,327.952 2280.76,146.512 1676.96,146.512 1676.96,327.952 
  "/>
<polyline clip-path="url(#clip2900)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  1700.96,206.992 1844.96,206.992 
  "/>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:start;" transform="rotate(0, 1868.96, 224.492)" x="1868.96" y="224.492">Mean Policy</text>
</g>
<polyline clip-path="url(#clip2900)" style="stroke:#e26f46; stroke-width:4; stroke-opacity:1; fill:none" points="
  1700.96,267.472 1844.96,267.472 
  "/>
<g clip-path="url(#clip2900)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:start;" transform="rotate(0, 1868.96, 284.972)" x="1868.96" y="284.972">Stochastic Policy</text>
</g>
</svg>
<p>and save the logged results to the experiment&#39;s JLSO</p><pre><code class="language-julia">for (k, v) in get(lg)
    exper[k] = v
end
finish!(exper);</code></pre><pre><code class="language-none">[ Info: Experiment saved to /tmp/hopper_example.jlso</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../MPPI/">« Running a simple controller</a><a class="docs-footer-nextpage" href="../visualize/">Visualizing Results »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 13 January 2020 02:52">Monday 13 January 2020</span>. Using Julia version 1.3.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
