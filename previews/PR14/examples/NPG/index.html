<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Learning a control policy · Lyceum</title><link rel="canonical" href="https://docs.lyceum.ml/dev/examples/NPG/index.html"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Lyceum</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../MPPI/">Running a simple controller</a></li><li class="is-active"><a class="tocitem" href>Learning a control policy</a><ul class="internal"><li><a class="tocitem" href="#Policy-Gradient-Example-1"><span>Policy Gradient Example</span></a></li><li><a class="tocitem" href="#Policy-Gradient-Components-1"><span>Policy Gradient Components</span></a></li><li><a class="tocitem" href="#Running-Experiments-1"><span>Running Experiments</span></a></li></ul></li><li><a class="tocitem" href="../visualize/">Visualizing Results</a></li><li><a class="tocitem" href="../humanoid/">Creating a MuJoCo Environment</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Learning a control policy</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Learning a control policy</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Lyceum/LyceumDocs.jl/blob/master/docs/src/examples/NPG.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><div class="admonition is-info"><header class="admonition-header">Running examples locally</header><div class="admonition-body"><p>This example and more are also available as Julia scripts and Jupyter notebooks.</p><p>See <a href="https://github.com/Lyceum/LyceumDocs.jl/blob/master/example_howto.md">the how-to page</a> for more information.</p></div></div><h1 id="Learning-a-control-policy-1"><a class="docs-heading-anchor" href="#Learning-a-control-policy-1">Learning a control policy</a><a class="docs-heading-anchor-permalink" href="#Learning-a-control-policy-1" title="Permalink"></a></h1><h2 id="Policy-Gradient-Example-1"><a class="docs-heading-anchor" href="#Policy-Gradient-Example-1">Policy Gradient Example</a><a class="docs-heading-anchor-permalink" href="#Policy-Gradient-Example-1" title="Permalink"></a></h2><p>In this example we walk through the process of setting up an experiment that runs <a href="https://papers.nips.cc/paper/2073-a-natural-policy-gradient.pdf">Natural Policy Gradient</a>, or more recently <a href="https://arxiv.org/abs/1703.02660">in this work</a>. This is an on-policy reinforcement learning method that is comparable to TRPO, PPO, and other policy gradient methods.</p><p>First, let&#39;s go head and grab all the dependencies</p><pre><code class="language-julia">using LinearAlgebra, Random, Statistics # From Stdlib
using LyceumAI         # For the NPG controller
using LyceumMuJoCo     # For the Hopper environment
using LyceumBase.Tools # For the ControllerIterator discussed below
using Flux             # For our Neural Network Needs
using Flux: glorot_uniform
using UniversalLogger
using Plots</code></pre><p>We first configure and instantiate of our <code>Hopper</code> environment to grab useful environment specific values such as the size of the observation and action vectors.</p><pre><code class="language-julia">env = LyceumMuJoCo.HopperV2();
dobs, dact = length(obsspace(env)), length(actionspace(env));</code></pre><h2 id="Policy-Gradient-Components-1"><a class="docs-heading-anchor" href="#Policy-Gradient-Components-1">Policy Gradient Components</a><a class="docs-heading-anchor-permalink" href="#Policy-Gradient-Components-1" title="Permalink"></a></h2><p>Policy Gradient methods require a policy: a function that takes in the state/observations of the agent, and output an action. a = π(obs). In much of Deep RL, the policy takes the form of a neural network, which we instantiate on top of the <a href="https://github.com/FluxML/Flux.jl">Flux.jl</a> library. The network below is two layers, mapping from our observation space to 32 hidden units, to the second 32 hidden units layer, before emitting a vector of actions. The activations are all tanh functions, and we initialize the network with Glorot Uniform initializations. The policy is more than just a feed forward nerual network, however. It&#39;s treated as a stochastic variable, and thus we track the log of the standard deviation of noise to apply to the action sampling; this is final zero vector of size &#39;dact&#39;.</p><pre><code class="language-julia">policy = DiagGaussianPolicy(multilayer_perceptron(dobs, 32, 32, dact;
                                                  σ=tanh,
                                                  initb=glorot_uniform,
                                                  initb_final=glorot_uniform),
                            zeros(dact))
policy = Flux.paramtype(Float32, policy); # We make sure the Policy is a consistent type</code></pre><p>This NPG implementation uses Generalized Advantaged Estimation, where we subract the estimate of the current policy&#39;s performance from an estimate of the value function on the same inputs. The calculation of the advangate is more stable in for gradient descent. We represent the value function as a neural network as well.</p><pre><code class="language-julia">value = multilayer_perceptron(dobs, 128, 128, 1;
                              σ=Flux.relu,
                              initb=glorot_uniform,
                              initb_final=glorot_uniform)
value = Flux.paramtype(Float32, value); # Again, consistent type; imporant for performance</code></pre><pre><code class="language-none">Chain(Dense(11, 128, relu), Dense(128, 128, relu), Dense(128, 1))</code></pre><p>FluxTrainer is an iterator that loops on the Flux object provided. The result at each loop is passed to stopcb below, so you can quit after a number of epochs, convergence, or other criteria; here it&#39;s capped at two epochs as a lambda function.</p><pre><code class="language-julia">valueloss(bl, X, Y) = Flux.mse(vec(bl(X)), vec(Y))
valuetrainer = FluxTrainer(optimiser = ADAM(1e-3),
                           szbatch = 64,
                           lossfn = valueloss,
                           stopcb = s -&gt; s.nepochs &gt; 2);</code></pre><p>The <code>NaturalPolicyGradient</code> iterator is a struct that contains relevant data objects for learning a policy. We first pass in a constructor that, given an input Int (in this case the thread ID), will construct an env; this is for thread-safe multi-threading. The policy and value objects are passed as well as a number of parameters; shown here are generally good defaults but could change depending on the environment and problem. Finally, the max trajectory length is set as &#39;Hmax&#39;, and the total number of samples &#39;N&#39;, specified. Multi-threading happens to collect the &#39;N&#39; samples using as many threads as possible, up to a trajectory length of Hmax.</p><pre><code class="language-julia">npg = NaturalPolicyGradient((i)-&gt;tconstruct(LyceumMuJoCo.HopperV2, i),
                            policy,
                            value,
                            valuetrainer;
                            gamma = 0.995,
                            gaelambda = 0.97,
                            norm_step_size = 0.05,
                            Hmax=1000,
                            N=10000);</code></pre><h2 id="Running-Experiments-1"><a class="docs-heading-anchor" href="#Running-Experiments-1">Running Experiments</a><a class="docs-heading-anchor-permalink" href="#Running-Experiments-1" title="Permalink"></a></h2><p>Finally, let&#39;s spin on our iterator 200 times, plotting every 20 iterations. This lets us break out of the loop if certain conditions are met, or re-start training manually if needed. We of course wish to track results, so we create an Experiment to which we can save data. We also have useful timing information displayed every 20 iterations to understand CPU performance.</p><pre><code class="language-julia">exper = Experiment(&quot;/tmp/hopper_example.jlso&quot;, overwrite=true)
lg = ULogger() # walks, talks, and acts like a Julia logger
for (i, state) in enumerate(npg)
    if i &gt; 200
        # serialize some stuff and quit
        exper[:policy]     = npg.policy
        exper[:value]      = npg.value
        exper[:etype]      = LyceumMuJoCo.HopperV2
        exper[:meanstates] = state.meanbatch
        exper[:stocstates] = state.stocbatch
        break
    end

    # log everything in `state` except meanbatch and stocbatch
    push!(lg, :algstate, filter_nt(state, exclude=(:meanbatch, :stocbatch)))

    if mod(i, 20) == 0
        x = lg[:algstate]
        # The following are helper functions for plotting to the terminal.
        # The first plot renders the &#39;Eval&#39; function associated with the env.
        display(expplot(Line(x[:stocterminal_eval], &quot;StocLastE&quot;),
                        Line(x[:meanterminal_eval], &quot;MeanLastE&quot;),
                        title=&quot;Evaluation Score, Iter=$i&quot;, width=60, height=8
                       ));

        display(expplot(Line(x[:stoctraj_reward], &quot;StocR&quot;),
                        Line(x[:meantraj_reward], &quot;MeanR&quot;),
                        title=&quot;Reward, Iter=$i&quot;, width=60, height=8
                       ));

        # The following is timing values for each component of the last iteration.
        # It&#39;s useful to see where the compute is going.
        println(&quot;elapsed_sampled  = &quot;, state.elapsed_sampled); #md
        println(&quot;elapsed_gradll   = &quot;, state.elapsed_gradll);  #md
        println(&quot;elapsed_vpg      = &quot;, state.elapsed_vpg);     #md
        println(&quot;elapsed_cg       = &quot;, state.elapsed_cg);      #md
        println(&quot;elapsed_valuefit = &quot;, state.elapsed_valuefit);#md
    end
end</code></pre><pre><code class="language-none">┌ Warning: The specified values for size and/or count will result in 16 unused data points
└ @ MLDataPattern ~/.julia/packages/MLDataPattern/mX21p/src/dataview.jl:204
elapsed_sampled  = 0.339548542
elapsed_gradll   = 1.328332421
elapsed_vpg      = 0.004505566
elapsed_cg       = 0.075968731
elapsed_valuefit = 0.734008878
elapsed_sampled  = 0.345774241
elapsed_gradll   = 1.357676161
elapsed_vpg      = 0.00434387
elapsed_cg       = 0.07202541
elapsed_valuefit = 0.817903625
elapsed_sampled  = 0.382323817
elapsed_gradll   = 1.345882731
elapsed_vpg      = 0.004107774
elapsed_cg       = 0.071883754
elapsed_valuefit = 0.734487926
elapsed_sampled  = 0.352057068
elapsed_gradll   = 1.334256618
elapsed_vpg      = 0.004278776
elapsed_cg       = 0.072100885
elapsed_valuefit = 0.951958712
elapsed_sampled  = 0.338770273
elapsed_gradll   = 1.329407643
elapsed_vpg      = 0.004158478
elapsed_cg       = 0.073270906
elapsed_valuefit = 0.987247779
elapsed_sampled  = 0.328296927
elapsed_gradll   = 1.358181484
elapsed_vpg      = 0.004277979
elapsed_cg       = 0.077702404
elapsed_valuefit = 0.944715786
elapsed_sampled  = 0.330366792
elapsed_gradll   = 1.338157292
elapsed_vpg      = 0.004965076
elapsed_cg       = 0.07614083
elapsed_valuefit = 0.950688073
elapsed_sampled  = 0.327629964
elapsed_gradll   = 1.339808629
elapsed_vpg      = 0.004154781
elapsed_cg       = 0.074354152
elapsed_valuefit = 1.105356023
elapsed_sampled  = 0.330707999
elapsed_gradll   = 1.322324604
elapsed_vpg      = 0.00444678
elapsed_cg       = 0.071745275
elapsed_valuefit = 1.067985455
elapsed_sampled  = 0.355747627
elapsed_gradll   = 1.334275804
elapsed_vpg      = 0.004390481
elapsed_cg       = 0.074319871
elapsed_valuefit = 1.113707276</code></pre><p>Let&#39;s go ahead and plot the final reward trajectory and see how we did. The two lines is a property of a Policy Gradient method: there is a stochastic policy that takes the actions of the policy and adds noise to explore for better behavior.</p><pre><code class="language-julia">plot!(plot(lg[:algstate][:meantraj_reward], label=&quot;Mean Policy&quot;, title=&quot;HopperV2 Reward&quot;),
      lg[:algstate][:stoctraj_reward], label=&quot;Stochastic Policy&quot;)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip9400">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip9400)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip9401">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip9400)" d="
M86.9921 1521.01 L2352.76 1521.01 L2352.76 62.9921 L86.9921 62.9921  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip9402">
    <rect x="86" y="62" width="2267" height="1459"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  140.376,1521.01 140.376,62.9921 
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  677.44,1521.01 677.44,62.9921 
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1214.5,1521.01 1214.5,62.9921 
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1751.57,1521.01 1751.57,62.9921 
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2288.63,1521.01 2288.63,62.9921 
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,1479.69 2352.76,1479.69 
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,1057.52 2352.76,1057.52 
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,635.343 2352.76,635.343 
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,213.168 2352.76,213.168 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1521.01 2352.76,1521.01 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1521.01 86.9921,62.9921 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  140.376,1521.01 140.376,1503.51 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  677.44,1521.01 677.44,1503.51 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1214.5,1521.01 1214.5,1503.51 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1751.57,1521.01 1751.57,1503.51 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2288.63,1521.01 2288.63,1503.51 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1479.69 114.181,1479.69 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1057.52 114.181,1057.52 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,635.343 114.181,635.343 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,213.168 114.181,213.168 
  "/>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 140.376, 1575.01)" x="140.376" y="1575.01">0</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 677.44, 1575.01)" x="677.44" y="1575.01">50</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 1214.5, 1575.01)" x="1214.5" y="1575.01">100</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 1751.57, 1575.01)" x="1751.57" y="1575.01">150</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 2288.63, 1575.01)" x="2288.63" y="1575.01">200</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 1497.19)" x="62.9921" y="1497.19">0</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 1075.02)" x="62.9921" y="1075.02">1000</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 652.843)" x="62.9921" y="652.843">2000</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 230.668)" x="62.9921" y="230.668">3000</text>
</g>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:84px; text-anchor:middle;" transform="rotate(0, 1219.87, 73.2)" x="1219.87" y="73.2">HopperV2 Reward</text>
</g>
<polyline clip-path="url(#clip9402)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  151.118,1479.74 161.859,1479.25 172.6,1455.38 183.341,1435.74 194.083,1440.12 204.824,1441.23 215.565,1435.67 226.306,1426.95 237.048,1421.63 247.789,1413.33 
  258.53,1406.87 269.272,1404.12 280.013,1399.29 290.754,1364.19 301.495,1397.31 312.237,1290.15 322.978,1306.55 333.719,1310.46 344.46,1359.1 355.202,1357.66 
  365.943,1373.03 376.684,1356.39 387.425,1366.36 398.167,1368.09 408.908,962.814 419.649,523.903 430.391,1310.84 441.132,1062.27 451.873,630.449 462.614,523.044 
  473.356,533.016 484.097,468.585 494.838,530.92 505.579,496.328 516.321,517.432 527.062,519.453 537.803,1237.35 548.545,442.094 559.286,466.966 570.027,401.666 
  580.768,418.094 591.51,416.309 602.251,478.645 612.992,492.202 623.733,412.215 634.475,451.131 645.216,912.571 655.957,327.543 666.699,356.251 677.44,1141.3 
  688.181,239.506 698.922,1033.02 709.664,468.669 720.405,331.019 731.146,508.187 741.887,1183.5 752.629,523.247 763.37,373.729 774.111,485.167 784.853,1407.25 
  795.594,1406.03 806.335,1407.19 817.076,474.07 827.818,478.266 838.559,285.73 849.3,223.422 860.041,274.773 870.783,321.998 881.524,212.151 892.265,230.765 
  903.007,202.488 913.748,566.242 924.489,696.293 935.23,197.291 945.972,811.003 956.713,234.197 967.454,221.36 978.195,182.696 988.937,933.795 999.678,184.561 
  1010.42,1091.41 1021.16,976.353 1031.9,168.806 1042.64,215.515 1053.38,593.912 1064.13,142.272 1074.87,943.094 1085.61,1308.3 1096.35,1301.06 1107.09,204.017 
  1117.83,176.379 1128.57,165.762 1139.31,181.429 1150.06,165.527 1160.8,1302.13 1171.54,198.073 1182.28,221.081 1193.02,235.734 1203.76,238.51 1214.5,208.814 
  1225.24,221.872 1235.99,222.932 1246.73,200.958 1257.47,171.074 1268.21,185.088 1278.95,210.204 1289.69,192.528 1300.43,193.645 1311.17,204.441 1321.92,198.702 
  1332.66,172.896 1343.4,203.671 1354.14,172.186 1364.88,184.137 1375.62,170.198 1386.36,163.732 1397.1,156.112 1407.85,161.876 1418.59,157.988 1429.33,159.899 
  1440.07,136.105 1450.81,135.491 1461.55,151.385 1472.29,159.781 1483.04,161.032 1493.78,166.831 1504.52,172.762 1515.26,151.845 1526,158.922 1536.74,158.631 
  1547.48,162.903 1558.22,149.391 1568.97,146.628 1579.71,148.517 1590.45,157.706 1601.19,163.515 1611.93,158.057 1622.67,169.657 1633.41,162.246 1644.15,173.441 
  1654.9,321.025 1665.64,130.642 1676.38,486.628 1687.12,145.818 1697.86,147.447 1708.6,141.701 1719.34,141.158 1730.08,107.716 1740.83,112.375 1751.57,114.968 
  1762.31,149.347 1773.05,155.477 1783.79,166.296 1794.53,108.498 1805.27,104.257 1816.01,1391.26 1826.76,155.123 1837.5,126.833 1848.24,658.185 1858.98,142.534 
  1869.72,127.017 1880.46,107.291 1891.2,145.912 1901.94,134.607 1912.69,139.887 1923.43,156.677 1934.17,145.378 1944.91,152.492 1955.65,152.791 1966.39,147.149 
  1977.13,147.757 1987.87,153.16 1998.62,138.381 2009.36,145.844 2020.1,145.577 2030.84,141.101 2041.58,160.479 2052.32,158.962 2063.06,177.626 2073.81,157.464 
  2084.55,154.027 2095.29,154.643 2106.03,147.495 2116.77,135.522 2127.51,128.313 2138.25,136.962 2148.99,144.369 2159.74,141.149 2170.48,146.05 2181.22,150.103 
  2191.96,157.231 2202.7,147.713 2213.44,152.978 2224.18,149.825 2234.92,142.178 2245.67,147.058 2256.41,152.84 2267.15,141.953 2277.89,142.192 2288.63,144.252 
  
  "/>
<polyline clip-path="url(#clip9402)" style="stroke:#e26f46; stroke-width:4; stroke-opacity:1; fill:none" points="
  151.118,1478.62 161.859,1473.42 172.6,1459.68 183.341,1445.5 194.083,1438.1 204.824,1436.92 215.565,1437.02 226.306,1428.79 237.048,1421.06 247.789,1415.79 
  258.53,1411.61 269.272,1397.8 280.013,1394.01 290.754,1365.28 301.495,1349.88 312.237,1360.44 322.978,1346.94 333.719,1337.4 344.46,1309.17 355.202,1297.6 
  365.943,1300.08 376.684,1251.6 387.425,1288.47 398.167,1267.7 408.908,1203.52 419.649,1186 430.391,1152.46 441.132,1109.95 451.873,1182.91 462.614,1073.66 
  473.356,1092.53 484.097,896.973 494.838,1112.59 505.579,880.639 516.321,904.549 527.062,912.128 537.803,972.223 548.545,743.439 559.286,934.268 570.027,823.029 
  580.768,775.479 591.51,840.579 602.251,664.278 612.992,524.501 623.733,885.408 634.475,857.425 645.216,813.069 655.957,642.92 666.699,940.566 677.44,471.956 
  688.181,842.817 698.922,771.46 709.664,590.417 720.405,933.474 731.146,957.779 741.887,710.691 752.629,973.928 763.37,811.765 774.111,970.936 784.853,802.937 
  795.594,1100.41 806.335,1021.03 817.076,583.397 827.818,530 838.559,541.36 849.3,808.136 860.041,661.857 870.783,664.707 881.524,763.484 892.265,585.703 
  903.007,419.014 913.748,899.572 924.489,493.792 935.23,452.403 945.972,572.113 956.713,567.598 967.454,510.978 978.195,472.191 988.937,835.335 999.678,772.502 
  1010.42,682.334 1021.16,629.327 1031.9,672.065 1042.64,686.896 1053.38,694.614 1064.13,485.998 1074.87,493.65 1085.61,819.311 1096.35,584.034 1107.09,317.839 
  1117.83,627.563 1128.57,486.768 1139.31,692.72 1150.06,536.956 1160.8,471.712 1171.54,566.495 1182.28,429.625 1193.02,226.129 1203.76,358.925 1214.5,428.675 
  1225.24,229.44 1235.99,346.24 1246.73,423.213 1257.47,502.857 1268.21,443.968 1278.95,342.76 1289.69,322.113 1300.43,434.024 1311.17,214.099 1321.92,426.63 
  1332.66,413.508 1343.4,203.479 1354.14,400.441 1364.88,176.646 1375.62,290.452 1386.36,382.813 1397.1,156.228 1407.85,276.734 1418.59,377.033 1429.33,274.377 
  1440.07,525.018 1450.81,453.388 1461.55,367.154 1472.29,276.904 1483.04,395.54 1493.78,299.244 1504.52,392.568 1515.26,158.395 1526,162.712 1536.74,619.252 
  1547.48,273.645 1558.22,376.078 1568.97,381.072 1579.71,159.206 1590.45,394.071 1601.19,391.992 1611.93,554.952 1622.67,292.104 1633.41,285.759 1644.15,478.974 
  1654.9,464.664 1665.64,530.575 1676.38,276.025 1687.12,279.79 1697.86,360.992 1708.6,138.332 1719.34,133.486 1730.08,505.65 1740.83,508.38 1751.57,576.677 
  1762.31,258.398 1773.05,261.947 1783.79,256.218 1794.53,340.286 1805.27,581.321 1816.01,528.258 1826.76,137.56 1837.5,353.262 1848.24,252.594 1858.98,134.066 
  1869.72,376.988 1880.46,644.854 1891.2,354.628 1901.94,131.778 1912.69,278.775 1923.43,153.937 1934.17,270.501 1944.91,371.263 1955.65,606.658 1966.39,137.746 
  1977.13,142.328 1987.87,257.831 1998.62,655.162 2009.36,823.696 2020.1,452.62 2030.84,145.857 2041.58,279.942 2052.32,156.131 2063.06,282.497 2073.81,274.444 
  2084.55,145.747 2095.29,148.424 2106.03,259.516 2116.77,525.247 2127.51,588.734 2138.25,524.821 2148.99,451.578 2159.74,255.863 2170.48,262.429 2181.22,133.269 
  2191.96,148.127 2202.7,260.622 2213.44,365.48 2224.18,124.486 2234.92,137.989 2245.67,261.522 2256.41,267.451 2267.15,131.56 2277.89,259.015 2288.63,263.85 
  
  "/>
<path clip-path="url(#clip9400)" d="
M1676.96 327.952 L2280.76 327.952 L2280.76 146.512 L1676.96 146.512  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip9400)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1676.96,327.952 2280.76,327.952 2280.76,146.512 1676.96,146.512 1676.96,327.952 
  "/>
<polyline clip-path="url(#clip9400)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  1700.96,206.992 1844.96,206.992 
  "/>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:start;" transform="rotate(0, 1868.96, 224.492)" x="1868.96" y="224.492">Mean Policy</text>
</g>
<polyline clip-path="url(#clip9400)" style="stroke:#e26f46; stroke-width:4; stroke-opacity:1; fill:none" points="
  1700.96,267.472 1844.96,267.472 
  "/>
<g clip-path="url(#clip9400)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:start;" transform="rotate(0, 1868.96, 284.972)" x="1868.96" y="284.972">Stochastic Policy</text>
</g>
</svg>
<p>and save the logged results to the experiment&#39;s JLSO</p><pre><code class="language-julia">for (k, v) in get(lg)
    exper[k] = v
end
finish!(exper);</code></pre><pre><code class="language-none">[ Info: Experiment saved to /tmp/hopper_example.jlso</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../MPPI/">« Running a simple controller</a><a class="docs-footer-nextpage" href="../visualize/">Visualizing Results »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 13 January 2020 02:41">Monday 13 January 2020</span>. Using Julia version 1.3.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
