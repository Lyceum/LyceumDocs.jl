<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Creating a MuJoCo Environment · Lyceum</title><link rel="canonical" href="https://docs.lyceum.ml/dev/examples/humanoid/index.html"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Lyceum</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Examples</span><ul><li class="is-active"><a class="tocitem" href>Creating a MuJoCo Environment</a><ul class="internal"><li><a class="tocitem" href="#Overview-1"><span>Overview</span></a></li><li><a class="tocitem" href="#The-Code-1"><span>The Code</span></a></li></ul></li><li><a class="tocitem" href="../NPG/">Learning a control policy</a></li><li><a class="tocitem" href="../visualize/">Using the visualizer</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Examples</a></li><li class="is-active"><a href>Creating a MuJoCo Environment</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Creating a MuJoCo Environment</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Lyceum/LyceumDocs.jl/blob/master/docs/src/examples/humanoid.jl" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><div class="admonition is-info"><header class="admonition-header">Running examples locally</header><div class="admonition-body"><p>This example and more are also available as Julia scripts and Jupyter notebooks.</p><p>See <a href="https://github.com/Lyceum/LyceumDocs.jl/blob/master/example_howto.md">the how-to page</a> for more information.</p></div></div><h1 id="Creating-a-MuJoCo-Environment-1"><a class="docs-heading-anchor" href="#Creating-a-MuJoCo-Environment-1">Creating a MuJoCo Environment</a><a class="docs-heading-anchor-permalink" href="#Creating-a-MuJoCo-Environment-1" title="Permalink"></a></h1><h2 id="Overview-1"><a class="docs-heading-anchor" href="#Overview-1">Overview</a><a class="docs-heading-anchor-permalink" href="#Overview-1" title="Permalink"></a></h2><p>Using LyceumMuJoCo, we will create the environment for a Humanoid &quot;get-up&quot; task that mostly relies on the defaults of LyceumBase and LyceumMuJoCo to propagate state, action, and observation data. We will have to implement reward and evaluation functions, of course, along with a few other parts of the <code>AbstractEnvironment</code> interface.</p><p>We then solve the &quot;get-up&quot; task using a Model-Predictive Control method called <a href="https://ieeexplore.ieee.org/iel7/7478842/7487087/07487277.pdf">&quot;Model Predictive Path Integral Control&quot;</a> or MPPI, walking through how to log experiment data and plot the results.</p><h2 id="The-Code-1"><a class="docs-heading-anchor" href="#The-Code-1">The Code</a><a class="docs-heading-anchor-permalink" href="#The-Code-1" title="Permalink"></a></h2><p>First we grab our dependencies of the Lyceum ecosystem and other helpful packages.</p><pre><code class="language-julia">using LinearAlgebra, Random, Statistics
using Plots, UnicodePlots, JLSO
using LyceumBase, LyceumBase.Tools, LyceumAI, LyceumMuJoCo, MuJoCo, UniversalLogger, Shapes</code></pre><h3 id="Humanoid-Type-1"><a class="docs-heading-anchor" href="#Humanoid-Type-1">Humanoid Type</a><a class="docs-heading-anchor-permalink" href="#Humanoid-Type-1" title="Permalink"></a></h3><p>This struct is our primary entry into the environment API. Environments utilizing the MuJoCo simulator through LyceumMuJoCo should subtype <code>AbstractMuJoCoEnvironment &lt;: AbstractEnvironment</code>. As you can see, this simple example only wraps around the underlying simulator (the <code>sim::MJSim</code> field of <code>Humanoid</code>, referred to hereafter as just <code>sim</code>). The functions of the LyceumBase API will then dispatch on this struct through Julia&#39;s <a href="https://en.wikipedia.org/wiki/Multiple_dispatch">multiple dispatch</a> mechanism. When an algorithm calls a function such as <code>getobs!(obs, env)</code>, Julia will select from all functions with that name depending on <code>typeof(obs)</code> and <code>typeof(env)</code>.</p><pre><code class="language-julia">struct Humanoid{S&lt;:MJSim} &lt;: AbstractMuJoCoEnvironment
    sim::S
end

LyceumMuJoCo.getsim(env::Humanoid) = env.sim #src (needs to be here for below example to work)</code></pre><p><code>Humanoid</code> (and all subtypes of <code>AbstractEnvironment</code>) are designed to be used in a single threaded context. To use <code>Humanoid</code> in a multi-threaded context, one could simply create <code>Threads.nthreads()</code> instances of <code>Humanoid</code>:</p><pre><code class="language-julia">modelpath = joinpath(@__DIR__, &quot;humanoid.xml&quot;)
envs = [Humanoid(MJSim(modelpath, skip = 2)) for i = 1:Threads.nthreads()]
Threads.@threads for i = 1:Threads.nthreads()
    thread_env = envs[Threads.threadid()]
    step!(thread_env)
end</code></pre><p>As <code>Humanoid</code> only ever uses its internal <code>jlModel</code> (found at <code>sim.m</code>) in a read-only fashion, we can make a performance optimization by sharing a single instance of <code>jlModel</code> across each thread, resulting in improved cache efficiency. <code>LyceumMuJoCo.tconstruct</code>, short for &quot;thread construct&quot;, helps us to do just that by providing a common interface for defining &quot;thread-aware&quot; constructors. Below, we make a call to <code>tconstruct(MJSim, n, modelpath, skip = 2)</code> which will construct <code>n</code> instances of <code>MJSim</code> constructed from <code>modelpath</code> and with a <code>skip</code> of 2, all sharing the exact same <code>jlModel</code> instance, and return <code>n</code> instances of <code>Humanoid</code>. All of the environments provided by LyceumMuJoCo feature similar definitions of <code>tconstruct</code> as found below.</p><pre><code class="language-julia">Humanoid() = first(tconstruct(Humanoid, 1))
function LyceumMuJoCo.tconstruct(::Type{Humanoid}, n::Integer)
    modelpath = joinpath(@__DIR__, &quot;humanoid.xml&quot;)
    return Tuple(Humanoid(s) for s in tconstruct(MJSim, n, modelpath, skip = 2))
end</code></pre><p>We can then use <code>tconstruct</code> as follows:</p><pre><code class="language-julia">envs = tconstruct(Humanoid, Threads.nthreads())
Threads.@threads for i = 1:Threads.nthreads()
    thread_env = envs[Threads.threadid()]
    step!(thread_env)
end</code></pre><h3 id="Utilities-1"><a class="docs-heading-anchor" href="#Utilities-1">Utilities</a><a class="docs-heading-anchor-permalink" href="#Utilities-1" title="Permalink"></a></h3><p>The following are helpers for the &quot;get-up&quot; task we&#39;d like to consider. We want the humanoid to stand up, thus we need to grab the model&#39;s height, as well as record a laying down position that we can use to set the state to. By exploring the model in the REPL or MJCF/XML file we can see that <code>sim.d.qpos[3]</code> is the index for the z-axis (height) of the root joint. The <code>LAYING_QPOS</code> data was collected externally by posing the model into a supine pose; one can either use LyceumMuJoCoViz or simulate.cpp included with a MuJoCo release to do this.</p><pre><code class="language-julia">_getheight(shapedstate::ShapedView, ::Humanoid) = shapedstate.qpos[3]
const LAYING_QPOS = [
    -0.164158,
    0.0265899,
    0.101116,
    0.684044,
    -0.160277,
    -0.70823,
    -0.0693176,
    -0.1321,
    0.0203937,
    0.298099,
    0.0873523,
    0.00634907,
    0.117343,
    -0.0320319,
    -0.619764,
    0.0204114,
    -0.157038,
    0.0512385,
    0.115817,
    -0.0320437,
    -0.617078,
    -0.00153819,
    0.13926,
    -1.01785,
    -1.57189,
    -0.0914509,
    0.708539,
    -1.57187,
];</code></pre><h3 id="The-AbstractMuJoCoEnvironment-and-AbstractEnvironment-APIs-1"><a class="docs-heading-anchor" href="#The-AbstractMuJoCoEnvironment-and-AbstractEnvironment-APIs-1">The <code>AbstractMuJoCoEnvironment</code> and <code>AbstractEnvironment</code> APIs</a><a class="docs-heading-anchor-permalink" href="#The-AbstractMuJoCoEnvironment-and-AbstractEnvironment-APIs-1" title="Permalink"></a></h3><p>LyceumMuJoCo requires access to the underlying <code>MJSim</code> simulator, thus any LyceumMuJoCo environments need to point to the correct field in the environment struct that is the simulator; in our case there&#39;s only one field: <code>sim</code>.</p><pre><code class="language-julia">LyceumMuJoCo.getsim(env::Humanoid) = env.sim</code></pre><p>Normally we could rely on MuJoCo to reset the model to the default configuration when the model XML is loaded; the humanoid.xml model, however, defaults to a vertical pose. To reset the model to our laying down or supine pose, we can copy in the data from <code>LAYING_QPOS</code> above to <code>d.qpos</code>. Calling <code>forward!</code> here is the same as <code>mj_forward(env.sim.m, env.sim.d)</code>, for a pure MuJoCo reference.</p><pre><code class="language-julia">function LyceumMuJoCo.reset!(env::Humanoid)
    reset!(env.sim)
    env.sim.d.qpos .= LAYING_QPOS
    forward!(env.sim)
    return env
end</code></pre><p>This reward function uses the <code>_getheight</code> helper function above to get the model&#39;s height when the function is called. We also specify a target height of 1.25 and penalize the agent for deviating from the target height. There is also a small penalty for using large control activations; if the coefficient is made larger, the agent may not move at all!</p><pre><code class="language-julia">function LyceumMuJoCo.getreward(state, action, obs, env::Humanoid)
    height = _getheight(statespace(env)(state), env)
    target = 1.25
    reward = 1.0
    if height &lt; target
        reward -= 2.0 * abs(target - height)
    end
    reward -= 1e-3 * norm(action)^2

    return reward
end</code></pre><p>Finally, we can specify an evaluation function. The difference between <code>geteval</code> and <code>getreward</code> is that <code>getreward</code> is the shaped reward our algorithm is optimizing for, while <code>geteval</code> lets us track a useful value for monitoring performance, such as height. Plotting this eval function will show the agent&#39;s height over time and is very useful for reviewing actual desired behavior, regardless of the reward achieved, as it can be used to diagnose reward specification problems.</p><pre><code class="language-julia">function LyceumMuJoCo.geteval(state, action, obs, env::Humanoid)
    return _getheight(statespace(env)(state), env)
end</code></pre><h3 id="Running-Experiments-1"><a class="docs-heading-anchor" href="#Running-Experiments-1">Running Experiments</a><a class="docs-heading-anchor-permalink" href="#Running-Experiments-1" title="Permalink"></a></h3><p>As discussed in the <a href="https://docs.julialang.org/en/v1/manual/performance-tips/">Julia performance tips</a>, globals can hinder performance. To avoid this, we construct the <code>MPPI</code> and <code>ControllerIterator</code> instances within a function. This also lets us easily run our experiment with different choices of parameters (e.g. <code>H</code>). Like most algorithms in <code>LyceumAI</code>, <code>MPPI</code> accepts a &quot;thread-aware&quot; environment constructor as well as any algorithm parameters. In this case, we just pass a closure around the <code>tconstruct</code> function we defined above. <code>MPPI</code>, being a single-step algorithm, is itself not iterable, so we wrap it in a <code>ControllerIterator</code> which simply calls <code>getaction!(action, state, obs, mppi::MPPI)</code> for <code>T</code> timesteps, while simultaneously plotting and logging the trajectory rollout.</p><pre><code class="language-julia">function humanoid_MPPI(etype = Humanoid; T = 200, H = 64, K = 64)
    env = etype()

    # The following parameters work well for this get-up task, and may work for
    # similar tasks, but are not invariant to the model.
    mppi = MPPI(
        env_tconstructor = n -&gt; tconstruct(etype, n),
        covar0 = Diagonal(0.05^2 * I, size(actionspace(env), 1)),
        lambda = 0.4,
        H = H,
        K = K,
        gamma = 1.0,
    )

    iter = ControllerIterator(mppi, env; T = T, plotiter = div(T, 10))

    # We can time the following loop; if it ends up less than the time the
    # MuJoCo models integrated forward in, then one could conceivably run this
    # MPPI MPC controller interactively...
    elapsed = @elapsed for (t, traj) in iter
        # If desired, one can inspect `traj`, `env`, or `mppi` at each timestep.
    end

    if elapsed &lt; time(env)
        @info &quot;We ran in real time!&quot;
    end

    # Save our experiment results to a file for later review.
    savepath = &quot;/tmp/opt_humanoid.jlso&quot;
    exper = Experiment(savepath, overwrite = true)
    exper[:etype] = etype

    for (k, v) in pairs(iter.trajectory)
        exper[k] = v
    end
    finish!(exper)

    return mppi, env, iter.trajectory
end</code></pre><pre><code class="language-none">humanoid_MPPI (generic function with 2 methods)</code></pre><h3 id="Checking-Results-1"><a class="docs-heading-anchor" href="#Checking-Results-1">Checking Results</a><a class="docs-heading-anchor-permalink" href="#Checking-Results-1" title="Permalink"></a></h3><p>The MPPI algorithm, and any that you develop, can and should use plotting tools to track progress as they go.</p><pre><code class="language-">mppi, env, traj = humanoid_MPPI();
plot(
    [traj.rewards traj.evaluations]labels = [&quot;Reward&quot; &quot;Evaluation&quot;],
    title = &quot;Humanoid Standup&quot;,
    legend = :bottomright,
)</code></pre><p>If one wanted to review the results after training, or prepare plots for presentations, one can load the data from disk instead.</p><pre><code class="language-julia">data = JLSO.load(&quot;/tmp/opt_humanoid.jlso&quot;)
plot(
    [data[&quot;rewards&quot;] data[&quot;evaluations&quot;]],
    labels = [&quot;Reward&quot; &quot;Evaluation&quot;],
    title = &quot;Humanoid Standup&quot;,
    legend = :bottomright,
)</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip7200">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip7200)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip7201">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip7200)" d="
M86.9921 1521.01 L2352.76 1521.01 L2352.76 62.9921 L86.9921 62.9921  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip7202">
    <rect x="86" y="62" width="2267" height="1459"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  140.376,1521.01 140.376,62.9921 
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  677.44,1521.01 677.44,62.9921 
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1214.5,1521.01 1214.5,62.9921 
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1751.57,1521.01 1751.57,62.9921 
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2288.63,1521.01 2288.63,62.9921 
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,1259.14 2352.76,1259.14 
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,888.793 2352.76,888.793 
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,518.447 2352.76,518.447 
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#000000; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  86.9921,148.101 2352.76,148.101 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1521.01 2352.76,1521.01 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1521.01 86.9921,62.9921 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  140.376,1521.01 140.376,1503.51 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  677.44,1521.01 677.44,1503.51 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1214.5,1521.01 1214.5,1503.51 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1751.57,1521.01 1751.57,1503.51 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  2288.63,1521.01 2288.63,1503.51 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,1259.14 114.181,1259.14 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,888.793 114.181,888.793 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,518.447 114.181,518.447 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  86.9921,148.101 114.181,148.101 
  "/>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 140.376, 1575.01)" x="140.376" y="1575.01">0</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 677.44, 1575.01)" x="677.44" y="1575.01">50</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 1214.5, 1575.01)" x="1214.5" y="1575.01">100</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 1751.57, 1575.01)" x="1751.57" y="1575.01">150</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:middle;" transform="rotate(0, 2288.63, 1575.01)" x="2288.63" y="1575.01">200</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 1276.64)" x="62.9921" y="1276.64">-1.0</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 906.293)" x="62.9921" y="906.293">-0.5</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 535.947)" x="62.9921" y="535.947">0.0</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:end;" transform="rotate(0, 62.9921, 165.601)" x="62.9921" y="165.601">0.5</text>
</g>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:84px; text-anchor:middle;" transform="rotate(0, 1219.87, 73.2)" x="1219.87" y="73.2">Humanoid Standup</text>
</g>
<polyline clip-path="url(#clip7202)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  151.118,1479.7 161.859,1479.74 172.6,1479.56 183.341,1477.82 194.083,1475.66 204.824,1473.71 215.565,1470.46 226.306,1467.23 237.048,1461.33 247.789,1452.96 
  258.53,1443.87 269.272,1435.82 280.013,1424.31 290.754,1411.78 301.495,1395.16 312.237,1377.21 322.978,1355.63 333.719,1332.51 344.46,1307.05 355.202,1280.5 
  365.943,1253.66 376.684,1226.43 387.425,1198.15 398.167,1166.8 408.908,1136.71 419.649,1107 430.391,1077.14 441.132,1047.23 451.873,1019.21 462.614,992.596 
  473.356,967.951 484.097,944.255 494.838,922.291 505.579,904.512 516.321,891.766 527.062,878.132 537.803,864.167 548.545,851.085 559.286,840.111 570.027,830.889 
  580.768,821.829 591.51,816.062 602.251,810.086 612.992,806.023 623.733,804.471 634.475,803.991 645.216,803.745 655.957,806.059 666.699,812.31 677.44,818.352 
  688.181,819.407 698.922,817.47 709.664,813.703 720.405,808.386 731.146,804.973 741.887,803.066 752.629,803.257 763.37,806.483 774.111,811.085 784.853,812.071 
  795.594,811.612 806.335,809.05 817.076,806.925 827.818,807.508 838.559,808.399 849.3,809.436 860.041,805.497 870.783,804.761 881.524,807.042 892.265,810.029 
  903.007,809.614 913.748,807.987 924.489,807.044 935.23,806.602 945.972,806.379 956.713,806.232 967.454,806.399 978.195,806.122 988.937,806.46 999.678,807.972 
  1010.42,807.476 1021.16,805.429 1031.9,804.948 1042.64,807.462 1053.38,807.749 1064.13,806.321 1074.87,805.358 1085.61,804.107 1096.35,804.941 1107.09,806.499 
  1117.83,807.387 1128.57,807.234 1139.31,806.965 1150.06,806.953 1160.8,806.662 1171.54,805.904 1182.28,805.671 1193.02,805.483 1203.76,805.088 1214.5,804.619 
  1225.24,804.405 1235.99,804.452 1246.73,804.83 1257.47,805.176 1268.21,805.242 1278.95,805.246 1289.69,805.291 1300.43,804.752 1311.17,805.18 1321.92,805.765 
  1332.66,805.478 1343.4,805.109 1354.14,805.147 1364.88,805.592 1375.62,805.56 1386.36,805.54 1397.1,805.631 1407.85,805.802 1418.59,805.151 1429.33,805.059 
  1440.07,805.244 1450.81,805.391 1461.55,805.537 1472.29,805.757 1483.04,806.056 1493.78,806.667 1504.52,806.232 1515.26,806.321 1526,804.901 1536.74,803.984 
  1547.48,802.343 1558.22,801.163 1568.97,802.255 1579.71,805.29 1590.45,806.86 1601.19,806.966 1611.93,806.275 1622.67,805.656 1633.41,805.131 1644.15,804.04 
  1654.9,804.214 1665.64,804.662 1676.38,804.848 1687.12,804.705 1697.86,804.875 1708.6,804.919 1719.34,805.078 1730.08,805.178 1740.83,804.733 1751.57,804.743 
  1762.31,805.126 1773.05,805.737 1783.79,805.914 1794.53,805.673 1805.27,805.479 1816.01,804.369 1826.76,804.193 1837.5,804.508 1848.24,804.783 1858.98,805.053 
  1869.72,805.105 1880.46,804.726 1891.2,805.048 1901.94,806.938 1912.69,807.014 1923.43,806.762 1934.17,807.126 1944.91,806.759 1955.65,806.575 1966.39,806.515 
  1977.13,805.825 1987.87,805.069 1998.62,805.084 2009.36,806.101 2020.1,806.627 2030.84,806.42 2041.58,806.192 2052.32,806.162 2063.06,806.391 2073.81,806.506 
  2084.55,806.26 2095.29,805.713 2106.03,805.813 2116.77,806.397 2127.51,806.114 2138.25,805.983 2148.99,806.001 2159.74,806.109 2170.48,805.658 2181.22,805.711 
  2191.96,806.367 2202.7,806.793 2213.44,807.112 2224.18,807.107 2234.92,806.824 2245.67,806.993 2256.41,806.848 2267.15,806.881 2277.89,807.104 2288.63,805.826 
  
  "/>
<polyline clip-path="url(#clip7202)" style="stroke:#e26f46; stroke-width:4; stroke-opacity:1; fill:none" points="
  151.118,443.552 161.859,443.571 172.6,443.472 183.341,442.606 194.083,441.526 204.824,440.543 215.565,438.909 226.306,437.271 237.048,434.317 247.789,430.144 
  258.53,425.57 269.272,421.46 280.013,415.779 290.754,409.409 301.495,401.128 312.237,392.174 322.978,381.393 333.719,369.83 344.46,357.137 355.202,343.839 
  365.943,330.443 376.684,316.748 387.425,302.597 398.167,286.992 408.908,271.83 419.649,257.082 430.391,242.107 441.132,227.208 451.873,213.172 462.614,199.861 
  473.356,187.564 484.097,175.667 494.838,164.703 505.579,155.742 516.321,149.474 527.062,142.648 537.803,135.713 548.545,129.117 559.286,123.578 570.027,118.991 
  580.768,114.538 591.51,111.571 602.251,108.641 612.992,106.619 623.733,105.858 634.475,105.527 645.216,105.405 655.957,106.584 666.699,109.697 677.44,112.73 
  688.181,113.278 698.922,112.297 709.664,110.349 720.405,107.767 731.146,106.03 741.887,105.148 752.629,105.152 763.37,106.802 774.111,109.145 784.853,109.622 
  795.594,109.342 806.335,108.131 817.076,107.03 827.818,107.331 838.559,107.778 849.3,108.178 860.041,106.315 870.783,105.971 881.524,107.072 892.265,108.596 
  903.007,108.449 913.748,107.578 924.489,107.18 935.23,106.926 945.972,106.824 956.713,106.756 967.454,106.87 978.195,106.721 988.937,106.911 999.678,107.634 
  1010.42,107.404 1021.16,106.39 1031.9,106.147 1042.64,107.377 1053.38,107.526 1064.13,106.813 1074.87,106.348 1085.61,105.712 1096.35,106.137 1107.09,106.911 
  1117.83,107.361 1128.57,107.289 1139.31,107.168 1150.06,107.159 1160.8,106.996 1171.54,106.622 1182.28,106.497 1193.02,106.395 1203.76,106.215 1214.5,105.971 
  1225.24,105.871 1235.99,105.907 1246.73,106.07 1257.47,106.267 1268.21,106.294 1278.95,106.286 1289.69,106.284 1300.43,106.049 1311.17,106.257 1321.92,106.545 
  1332.66,106.412 1343.4,106.234 1354.14,106.258 1364.88,106.461 1375.62,106.46 1386.36,106.454 1397.1,106.496 1407.85,106.562 1418.59,106.263 1429.33,106.219 
  1440.07,106.311 1450.81,106.367 1461.55,106.451 1472.29,106.553 1483.04,106.709 1493.78,106.99 1504.52,106.785 1515.26,106.83 1526,106.125 1536.74,105.653 
  1547.48,104.838 1558.22,104.257 1568.97,104.796 1579.71,106.314 1590.45,107.105 1601.19,107.166 1611.93,106.818 1622.67,106.504 1633.41,106.234 1644.15,105.691 
  1654.9,105.788 1665.64,105.999 1676.38,106.089 1687.12,106.015 1697.86,106.097 1708.6,106.142 1719.34,106.217 1730.08,106.261 1740.83,106.047 1751.57,106.053 
  1762.31,106.236 1773.05,106.56 1783.79,106.623 1794.53,106.506 1805.27,106.393 1816.01,105.875 1826.76,105.755 1837.5,105.917 1848.24,106.062 1858.98,106.204 
  1869.72,106.233 1880.46,106.04 1891.2,106.211 1901.94,107.146 1912.69,107.166 1923.43,107.061 1934.17,107.245 1944.91,107.05 1955.65,106.967 1966.39,106.922 
  1977.13,106.59 1987.87,106.194 1998.62,106.217 2009.36,106.733 2020.1,106.985 2030.84,106.882 2041.58,106.776 2052.32,106.77 2063.06,106.875 2073.81,106.92 
  2084.55,106.77 2095.29,106.526 2106.03,106.593 2116.77,106.868 2127.51,106.731 2138.25,106.675 2148.99,106.679 2159.74,106.73 2170.48,106.507 2181.22,106.548 
  2191.96,106.858 2202.7,107.085 2213.44,107.236 2224.18,107.225 2234.92,107.073 2245.67,107.184 2256.41,107.105 2267.15,107.12 2277.89,107.225 2288.63,106.581 
  
  "/>
<path clip-path="url(#clip7200)" d="
M1816.02 1377.01 L2280.76 1377.01 L2280.76 1195.57 L1816.02 1195.57  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip7200)" style="stroke:#000000; stroke-width:4; stroke-opacity:1; fill:none" points="
  1816.02,1377.01 2280.76,1377.01 2280.76,1195.57 1816.02,1195.57 1816.02,1377.01 
  "/>
<polyline clip-path="url(#clip7200)" style="stroke:#009af9; stroke-width:4; stroke-opacity:1; fill:none" points="
  1840.02,1256.05 1984.02,1256.05 
  "/>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:start;" transform="rotate(0, 2008.02, 1273.55)" x="2008.02" y="1273.55">Reward</text>
</g>
<polyline clip-path="url(#clip7200)" style="stroke:#e26f46; stroke-width:4; stroke-opacity:1; fill:none" points="
  1840.02,1316.53 1984.02,1316.53 
  "/>
<g clip-path="url(#clip7200)">
<text style="fill:#000000; fill-opacity:1; font-family:Arial,Helvetica Neue,Helvetica,sans-serif; font-size:48px; text-anchor:start;" transform="rotate(0, 2008.02, 1334.03)" x="2008.02" y="1334.03">Evaluation</text>
</g>
</svg>
<hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Home</a><a class="docs-footer-nextpage" href="../NPG/">Learning a control policy »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Wednesday 15 January 2020 02:34">Wednesday 15 January 2020</span>. Using Julia version 1.3.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
